{"version":3,"sources":["Components/PhotoCard/photoCard.module.css","Components/SearchForm/searchForm.module.css","Components/app.module.css","Components/Gallery/gallery.module.css","Components/SearchForm/searchForm.js","Components/PhotoCard/photoCard.js","Components/Gallery/gallery.js","Components/Modal/modal.js","services/api.js","Components/App.js","index.js","Components/Modal/modal.module.css"],"names":["module","exports","searchForm","onSubmitForm","onChangeInput","inputSearch","className","styles","search_form","onSubmit","onChange","value","type","autoComplete","placeholder","photoCard","webformatURL","largeImageURL","openModal","likes","views","comments","downloads","gallery_item","photo_card","src","alt","stats","stats_item","onClick","fullscreen_button","style","pointerEvents","gallery","imagesArr","onClickBtn","length","map","id","key","shortid","generate","button","modal","largeURL","closeModal","overlay","axios","defaults","baseURL","fetchPhoto","pageNumber","process","setting","perPage","page","search","get","incrementPageNumber","App","state","isModalOpen","closeOnEscape","e","keyCode","setState","fetchingImg","toLowerCase","then","response","prevState","data","hits","window","scrollTo","top","document","body","scrollHeight","behavior","catch","console","log","fetchingNewImg","changePageNumber","handleChangeInput","target","preventDefault","openModalWindow","url","querySelector","overflow","closeModalWindow","tagName","this","addEventListener","removeEventListener","s","app","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a77800dc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo_card\":\"photoCard_photo_card__1Ap-P\",\"stats\":\"photoCard_stats__tdVwG\",\"stats_item\":\"photoCard_stats_item__3nXAu\",\"fullscreen_button\":\"photoCard_fullscreen_button__3mNW-\",\"gallery_item\":\"photoCard_gallery_item__3myYx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_form\":\"searchForm_search_form__1pxof\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__3Of9l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"gallery_gallery__1mcm1\",\"button\":\"gallery_button__1ST7j\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './searchForm.module.css';\n\nconst searchForm = ({ onSubmitForm, onChangeInput, inputSearch }) => {\n  return (\n    <form className={styles.search_form} onSubmit={onSubmitForm}>\n      <input\n        onChange={onChangeInput}\n        value={inputSearch}\n        type=\"text\"\n        autoComplete=\"off\"\n        placeholder=\"Search images...\"\n      />\n    </form>\n  );\n};\n\nsearchForm.propTypes = {\n  onSubmitForm: PropTypes.func.isRequired,\n  onChangeInput: PropTypes.func.isRequired,\n  inputSearch: PropTypes.string.isRequired,\n};\n\nexport default searchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './photoCard.module.css';\n\nconst photoCard = ({\n  webformatURL,\n  largeImageURL,\n  openModal,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return (\n    <li className={styles.gallery_item}>\n      <div className={styles.photo_card}>\n        <img src={webformatURL} alt=\"imghere\" />\n        <div className={styles.stats}>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">thumb_up</i>\n            {likes}\n          </p>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">visibility</i>\n            {views}\n          </p>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">comment</i>\n            {comments}\n          </p>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">cloud_download</i>\n            {downloads}\n          </p>\n        </div>\n        <button\n          onClick={() => openModal(largeImageURL)}\n          type=\"button\"\n          className={styles.fullscreen_button}\n        >\n          <i className=\"material-icons\" style={{ pointerEvents: 'none' }}>\n            zoom_out_map\n          </i>\n        </button>\n      </div>\n    </li>\n  );\n};\n\nphotoCard.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default photoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from '../PhotoCard/photoCard';\nimport styles from './gallery.module.css';\nimport shortid from 'shortid';\n\nconst gallery = ({ imagesArr, onClickBtn, openModal }) => {\n  return (\n    <>\n      <ul className={styles.gallery}>\n        {imagesArr.length > 0 &&\n          imagesArr.map(\n            ({\n              id,\n              webformatURL,\n              largeImageURL,\n              likes,\n              views,\n              comments,\n              downloads,\n            }) => (\n              <PhotoCard\n                key={shortid.generate()}\n                webformatURL={webformatURL}\n                largeImageURL={largeImageURL}\n                likes={likes}\n                views={views}\n                comments={comments}\n                downloads={downloads}\n                openModal={openModal}\n              />\n            ),\n          )}\n      </ul>\n      <button type=\"button\" onClick={onClickBtn} className={styles.button}>\n        Load more\n      </button>\n    </>\n  );\n};\n\ngallery.propTypes = {\n  imagesArr: PropTypes.arrayOf(\n    PropTypes.shape({\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n  onClickBtn: PropTypes.func.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default gallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './modal.module.css';\n\nconst modal = ({ largeURL, closeModal }) => {\n  return (\n    <div className={styles.overlay} onClick={closeModal}>\n      <div className={styles.modal}>\n        <img src={largeURL} alt=\"imgLarge\" />\n      </div>\n    </div>\n  );\n};\n\nmodal.propTypes = {\n  largeURL: PropTypes.string.isRequired,\n  closeModal: PropTypes.func.isRequired,\n};\n\nexport default modal;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst fetchPhoto = (pageNumber = 1, inputSearch = 'cat') => {\n  const key = `&key=${process.env.REACT_APP_PIXABAY_API_KEY}`;\n  const setting = '?image_type=photo&orientation=horizontal';\n  const perPage = '&per_page=12';\n  const page = `&page=${pageNumber}`;\n  const search = `&q=${inputSearch}`;\n\n  return axios.get(setting + perPage + key + page + search);\n};\n\nexport default fetchPhoto;\n\n// https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=что_искать&page=номер_страницы&per_page=12&key=твой_ключ\n","import React, { Component } from 'react';\nimport SearchForm from '../Components/SearchForm/searchForm';\nimport Gallery from '../Components/Gallery/gallery';\nimport Modal from '../Components/Modal/modal';\nimport fetchPhoto from '../services/api';\nimport s from './app.module.css';\n\nconst incrementPageNumber = 1;\n\nclass App extends Component {\n  state = {\n    imagesArr: [],\n    pageNumber: 1,\n    inputSearch: '',\n    isModalOpen: false,\n    largeImageURL: '',\n  };\n\n  componentDidMount() {\n    this.fetchingImg();\n    document.addEventListener('keydown', this.closeOnEscape);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.closeOnEscape);\n  }\n\n  closeOnEscape = e => {\n    if (e.keyCode === 27) {\n      this.setState({\n        isModalOpen: false,\n      });\n    }\n  };\n\n  fetchingImg = () => {\n    const { pageNumber, inputSearch } = this.state;\n    fetchPhoto(pageNumber, inputSearch.toLowerCase())\n      .then(response =>\n        this.setState(\n          prevState => ({\n            imagesArr: [...prevState.imagesArr, ...response.data.hits],\n          }),\n          () =>\n            window.scrollTo({\n              top: document.body.scrollHeight,\n              behavior: 'smooth',\n            }),\n        ),\n      )\n      .catch(console.log);\n  };\n\n  fetchingNewImg = () => {\n    const { pageNumber, inputSearch } = this.state;\n    fetchPhoto(pageNumber, inputSearch.toLowerCase())\n      .then(\n        response =>\n          this.setState({\n            imagesArr: [...response.data.hits],\n          }),\n        () =>\n          window.scrollTo({\n            top: document.body.scrollHeight,\n            behavior: 'smooth',\n          }),\n      )\n      .catch(console.log);\n  };\n\n  changePageNumber = () => {\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + incrementPageNumber,\n    }));\n    this.fetchingImg();\n  };\n\n  handleChangeInput = e => {\n    this.setState({ inputSearch: e.target.value });\n  };\n\n  onSubmitForm = e => {\n    e.preventDefault();\n    this.setState({ pageNumber: 1 });\n    this.fetchingNewImg();\n  };\n\n  openModalWindow = url => {\n    this.setState(\n      {\n        isModalOpen: true,\n        largeImageURL: url,\n      },\n      () =>\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth',\n        }),\n    );\n    document.querySelector('body').style.overflow = 'hidden';\n  };\n\n  closeModalWindow = e => {\n    if (e.target.tagName === 'IMG') {\n      return;\n    }\n    this.setState({\n      isModalOpen: false,\n    });\n    document.querySelector('body').style.overflow = 'auto';\n  };\n\n  render() {\n    const { imagesArr, inputSearch, isModalOpen, largeImageURL } = this.state;\n    return (\n      <div className={s.app}>\n        <SearchForm\n          onSubmitForm={this.onSubmitForm}\n          onChangeInput={this.handleChangeInput}\n          inputSearch={inputSearch}\n        />\n        <Gallery\n          imagesArr={imagesArr}\n          onClickBtn={this.changePageNumber}\n          openModal={this.openModalWindow}\n        />\n        {isModalOpen && (\n          <Modal largeURL={largeImageURL} closeModal={this.closeModalWindow} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal_overlay__2hheX\",\"modal\":\"modal_modal__1PyRM\"};"],"sourceRoot":""}